<div class="container">
  <div class="buttons">
    <p-button
      label="New"
      icon="pi pi-check"
      [routerLink]="'/admin/produit'"
    ></p-button>
    <p-button
      label="Delete"
      icon="pi pi-trash"
      (click)="deleteSelectedProduct()"
    ></p-button>
  </div>

  <p-table
    [value]="listOfProducts"
    [paginator]="true"
    [rows]="5"
    [rowsPerPageOptions]="[5, 10]"
    [tableStyle]="{ 'min-width': '50rem' }"
    [(selection)]="selectedProducts"
    [rowHover]="true"
    (onRowSelect)="addById($event)"
    (onRowUnselect)="removeById($event)"
    (onHeaderCheckboxToggle)="addAllIds($event)"
    dataKey="code"
  >
    <ng-template pTemplate="header">
      <tr>
        <th style="width: 4rem">
          <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
        </th>
        <th pSortableColumn="code">
          Code <p-sortIcon field="code"></p-sortIcon>
        </th>
        <th pSortableColumn="name">
          Name <p-sortIcon field="name"></p-sortIcon>
        </th>
        <th>Action</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr>
        <td>
          <p-tableCheckbox [value]="product"></p-tableCheckbox>
        </td>
        <td>{{ product.code }}</td>
        <td>{{ product.name }}</td>
        <td>
          <div class="actionsIcons">
            <span
              class="pi pi-pencil button-like"
              [routerLink]="'/admin/produit/' + product.id + '/edit'"
            ></span>
            <span
              class="pi pi-trash button-like"
              (click)="deleteProduct(product.id)"
            ></span>
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
